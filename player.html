{% extends "base.html" %}

{% block content %}
<div class="container">
    <header class="player-header">
        <h1>Музыкальная библиотека</h1>
    </header>

    <div class="player-main">
        <!-- Список музыки -->
        <div class="audio-list-container">
            <div class="audio-list">
                {% for file in files %}
                <div class="audio-card">
                    <h3>{{ file.title }}</h3>
                    <p>Автор: {{ file.author }} | Год: {{ file.year }}</p>
                    <p>Теги: {{ file.tags }}</p>
                    <a href="{{ url_for('file_detail', file_id=file.id) }}" class="btn btn-primary">Слушать</a>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Блок фильтрации -->
        <div class="filter-container">
            <h2>Фильтр</h2>
            <form method="get" class="filter-form">
                <div class="form-group">
                    <label>Тег:</label>
                    <input type="text" name="tag" placeholder="Введите тег" value="{{ request.args.get('tag', '') }}">
                </div>
                <div class="form-group">
                    <label>Автор:</label>
                    <input type="text" name="author" placeholder="Введите автора" value="{{ request.args.get('author', '') }}">
                </div>
                <div class="form-group">
                    <label>Год:</label>
                    <input type="text" name="year" placeholder="Введите год" value="{{ request.args.get('year', '') }}">
                </div>
                <button type="submit" class="btn btn-secondary">Применить фильтр</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
